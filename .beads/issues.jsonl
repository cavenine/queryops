{"id":"queryops-02p","title":"Fix G115 issues","description":"Address potential integer overflow in integer conversions in user repository and counter handlers","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-17T23:01:00.478413872-05:00","updated_at":"2025-12-17T23:22:02.506436818-05:00","closed_at":"2025-12-17T23:22:02.506436818-05:00","dependencies":[{"issue_id":"queryops-02p","depends_on_id":"queryops-8tj","type":"parent-child","created_at":"2025-12-17T23:01:03.343104437-05:00","created_by":"daemon"}]}
{"id":"queryops-05n","title":"Create account settings page","description":"New settings.templ page at /account. Lists user info (email) and registered passkeys with names/dates. Include 'Add Passkey' button and 'Remove' buttons for each credential.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T17:27:28.598024432-05:00","updated_at":"2025-12-12T19:29:51.893030563-05:00","closed_at":"2025-12-12T19:29:51.893030563-05:00","dependencies":[{"issue_id":"queryops-05n","depends_on_id":"queryops-pux","type":"parent-child","created_at":"2025-12-12T17:27:45.175300588-05:00","created_by":"daemon"}]}
{"id":"queryops-195","title":"Add Kamal migration hook","description":"Add .kamal/hooks/pre-deploy (or pre-app-boot) to run '/main migrate up' on primary host using new image version; disable AUTO_MIGRATE in deploy env.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-12T21:10:11.364379908-05:00","updated_at":"2025-12-12T21:14:11.990025821-05:00","closed_at":"2025-12-12T21:14:11.990025821-05:00","dependencies":[{"issue_id":"queryops-195","depends_on_id":"queryops-1ox","type":"parent-child","created_at":"2025-12-12T21:10:22.141108458-05:00","created_by":"daemon"}]}
{"id":"queryops-1cm","title":"Add /up healthcheck endpoint","description":"Expose unauthenticated GET /up returning 200 when ready (ideally with DB ping) so kamal-proxy healthcheck works.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-12T21:10:08.742053169-05:00","updated_at":"2025-12-12T21:14:05.66874881-05:00","closed_at":"2025-12-12T21:14:05.66874881-05:00","dependencies":[{"issue_id":"queryops-1cm","depends_on_id":"queryops-1ox","type":"parent-child","created_at":"2025-12-12T21:10:21.559927082-05:00","created_by":"daemon"}]}
{"id":"queryops-1ox","title":"Deploy QueryOps on DigitalOcean with Kamal","description":"","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-12T21:10:02.696030122-05:00","updated_at":"2025-12-17T22:11:06.531139252-05:00","closed_at":"2025-12-17T22:11:06.531139252-05:00"}
{"id":"queryops-1sa","title":"Write DigitalOcean + Kamal deployment runbook","description":"Document droplet setup, firewall/ports, DNS, secrets, kamal setup/deploy, rollback, logs, and troubleshooting.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-12T21:10:17.605411895-05:00","updated_at":"2025-12-12T21:14:14.514092247-05:00","closed_at":"2025-12-12T21:14:14.514092247-05:00","dependencies":[{"issue_id":"queryops-1sa","depends_on_id":"queryops-1ox","type":"parent-child","created_at":"2025-12-12T21:10:22.458968356-05:00","created_by":"daemon"}]}
{"id":"queryops-2ia","title":"Fix errcheck issues","description":"Address unchecked errors in router/router.go and cmd/web/build/main.go","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-17T23:01:00.446187181-05:00","updated_at":"2025-12-17T23:09:19.758707416-05:00","closed_at":"2025-12-17T23:09:19.758707416-05:00","dependencies":[{"issue_id":"queryops-2ia","depends_on_id":"queryops-8tj","type":"parent-child","created_at":"2025-12-17T23:01:03.313690045-05:00","created_by":"daemon"}]}
{"id":"queryops-3es","title":"Build project locally","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T22:05:09.402256306-05:00","updated_at":"2025-12-12T17:29:28.192266727-05:00","closed_at":"2025-12-12T17:29:28.192266727-05:00"}
{"id":"queryops-3j2","title":"Create user_credentials migration","description":"Migration to create user_credentials table for storing WebAuthn credentials. Includes credential_id, public_key, attestation_type, transports, flags, authenticator info, and timestamps.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T17:26:05.652852407-05:00","updated_at":"2025-12-12T17:32:00.881683257-05:00","closed_at":"2025-12-12T17:32:00.881683257-05:00","dependencies":[{"issue_id":"queryops-3j2","depends_on_id":"queryops-a05","type":"parent-child","created_at":"2025-12-12T17:27:23.605775168-05:00","created_by":"daemon"}]}
{"id":"queryops-7xm","title":"Add passkey naming on registration","description":"Allow users to name their passkey when adding it (e.g., 'MacBook Pro', 'iPhone'). Add nickname column to user_credentials table. Show names in settings page.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T17:27:32.610778644-05:00","updated_at":"2025-12-12T19:29:55.294962907-05:00","closed_at":"2025-12-12T19:29:55.294962907-05:00","dependencies":[{"issue_id":"queryops-7xm","depends_on_id":"queryops-pux","type":"parent-child","created_at":"2025-12-12T17:27:45.191468045-05:00","created_by":"daemon"},{"issue_id":"queryops-7xm","depends_on_id":"queryops-05n","type":"blocks","created_at":"2025-12-12T17:27:52.440790599-05:00","created_by":"daemon"}]}
{"id":"queryops-8tj","title":"Category 1: Security \u0026 Bug Prevention","description":"Fix high priority issues including errcheck, gosec (G301, G107, G112), nilnil, and G115 (integer overflow).","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-17T23:00:45.086043689-05:00","updated_at":"2025-12-17T23:22:17.886181738-05:00","closed_at":"2025-12-17T23:22:17.886181738-05:00","dependencies":[{"issue_id":"queryops-8tj","depends_on_id":"queryops-hxq","type":"parent-child","created_at":"2025-12-17T23:00:52.010420999-05:00","created_by":"daemon"}]}
{"id":"queryops-90d","title":"Provision DO droplet + DNS records","description":"Create Ubuntu droplet, attach domain, open 80/443/22, and verify SSH access for Kamal.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-12T21:10:13.614171982-05:00","updated_at":"2025-12-17T22:11:06.532048758-05:00","closed_at":"2025-12-17T22:11:06.532048758-05:00","dependencies":[{"issue_id":"queryops-90d","depends_on_id":"queryops-1ox","type":"parent-child","created_at":"2025-12-12T21:10:23.282189062-05:00","created_by":"daemon"}]}
{"id":"queryops-9pe","title":"Add navigation link to account settings","description":"Update navigation.templ to include link to /account settings page. Show in navbar when user is logged in.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T17:27:40.74951122-05:00","updated_at":"2025-12-12T19:29:55.321869075-05:00","closed_at":"2025-12-12T19:29:55.321869075-05:00","dependencies":[{"issue_id":"queryops-9pe","depends_on_id":"queryops-pux","type":"parent-child","created_at":"2025-12-12T17:27:45.21457061-05:00","created_by":"daemon"},{"issue_id":"queryops-9pe","depends_on_id":"queryops-05n","type":"blocks","created_at":"2025-12-12T17:27:52.46796728-05:00","created_by":"daemon"}]}
{"id":"queryops-a05","title":"Passkey Authentication - Phase 1","description":"Add passkey (WebAuthn) support for existing users. Users can add passkeys to their account and use them to log in. Includes: database migration for credentials table, WebAuthn service, passkey handlers, and login page updates.","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-12T17:25:57.294516684-05:00","updated_at":"2025-12-12T17:37:57.531422199-05:00","closed_at":"2025-12-12T17:37:57.531422199-05:00"}
{"id":"queryops-a4f","title":"Explore app endpoints and pages","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-11T22:06:45.930944542-05:00","updated_at":"2025-12-12T17:29:28.194294851-05:00","closed_at":"2025-12-12T17:29:28.194294851-05:00"}
{"id":"queryops-bgk","title":"Use golang:1.25.5-trixie for builds","description":"Switch Dockerfile build stage to golang:1.25.5-trixie to align with glibc Debian Trixie base.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-12T21:53:53.23850147-05:00","updated_at":"2025-12-12T21:55:01.85641462-05:00","closed_at":"2025-12-12T21:55:01.85641462-05:00","dependencies":[{"issue_id":"queryops-bgk","depends_on_id":"queryops-1ox","type":"parent-child","created_at":"2025-12-12T21:53:57.925105809-05:00","created_by":"daemon"}]}
{"id":"queryops-bro","title":"Add db package and migrations","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T22:39:42.973473092-05:00","updated_at":"2025-12-12T17:29:28.190126321-05:00","closed_at":"2025-12-12T17:29:28.190126321-05:00"}
{"id":"queryops-d6b","title":"Category 2: Logic \u0026 Correctness","description":"Address extensive variable shadowing (shadow) throughout the codebase to prevent subtle logic errors.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T23:00:45.096982429-05:00","updated_at":"2025-12-17T23:22:48.732843568-05:00","closed_at":"2025-12-17T23:22:48.732843568-05:00","dependencies":[{"issue_id":"queryops-d6b","depends_on_id":"queryops-hxq","type":"parent-child","created_at":"2025-12-17T23:00:56.554191253-05:00","created_by":"daemon"},{"issue_id":"queryops-d6b","depends_on_id":"queryops-8tj","type":"blocks","created_at":"2025-12-17T23:00:56.592521247-05:00","created_by":"daemon"}]}
{"id":"queryops-d79","title":"Create credential repository","description":"New credential_repository.go with CRUD operations: Create, GetByUserID, GetByCredentialID, UpdateSignCount, Delete. Maps between webauthn.Credential and database rows.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T17:26:14.114616743-05:00","updated_at":"2025-12-12T17:33:31.498781261-05:00","closed_at":"2025-12-12T17:33:31.498781261-05:00","dependencies":[{"issue_id":"queryops-d79","depends_on_id":"queryops-3j2","type":"blocks","created_at":"2025-12-12T17:27:07.85260157-05:00","created_by":"daemon"},{"issue_id":"queryops-d79","depends_on_id":"queryops-nck","type":"blocks","created_at":"2025-12-12T17:27:07.863720483-05:00","created_by":"daemon"},{"issue_id":"queryops-d79","depends_on_id":"queryops-a05","type":"parent-child","created_at":"2025-12-12T17:27:23.6446522-05:00","created_by":"daemon"}]}
{"id":"queryops-daa","title":"Add antibot checks to register form","description":"Add honeypot + JS token + timing antibot checks to /register (JS required, hard-block). Includes server-side validator, DataStar-compatible token injection JS, CSS utility, tests, and docs.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-13T21:27:05.828390583-05:00","updated_at":"2025-12-13T21:33:49.511583808-05:00","closed_at":"2025-12-13T21:33:49.511583808-05:00"}
{"id":"queryops-ehk","title":"Add Kamal config for web/worker/postgres","description":"Create config/deploy.yml for single-VM deploy: web role, workers role (proxy disabled), postgres accessory, env/secrets, and proxy settings.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-12T21:10:10.299057864-05:00","updated_at":"2025-12-12T21:14:08.909458879-05:00","closed_at":"2025-12-12T21:14:08.909458879-05:00","dependencies":[{"issue_id":"queryops-ehk","depends_on_id":"queryops-1ox","type":"parent-child","created_at":"2025-12-12T21:10:21.8980389-05:00","created_by":"daemon"}]}
{"id":"queryops-en2","title":"Category 3: Code Complexity \u0026 Maintenance","description":"Refactor high cognitive complexity handlers (gocognit) and remove unused parameters (revive).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T23:00:45.107809589-05:00","updated_at":"2025-12-17T23:23:58.240146736-05:00","closed_at":"2025-12-17T23:23:58.240146736-05:00","dependencies":[{"issue_id":"queryops-en2","depends_on_id":"queryops-hxq","type":"parent-child","created_at":"2025-12-17T23:00:56.564128271-05:00","created_by":"daemon"},{"issue_id":"queryops-en2","depends_on_id":"queryops-d6b","type":"blocks","created_at":"2025-12-17T23:00:56.602921169-05:00","created_by":"daemon"}]}
{"id":"queryops-era","title":"Fix passkey options format for SimpleWebAuthn compatibility","description":"Return options.Response instead of full options struct to match SimpleWebAuthn expected format","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-12T17:56:59.026842473-05:00","updated_at":"2025-12-12T17:56:59.049392766-05:00","closed_at":"2025-12-12T17:56:59.049392766-05:00"}
{"id":"queryops-eu3","title":"Category 5: Style \u0026 Formatting","description":"Fix low priority issues: goimports, godot, mnd (magic numbers), perfsprint, and intrange.","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-17T23:00:45.12879872-05:00","updated_at":"2025-12-17T23:00:45.12879872-05:00","dependencies":[{"issue_id":"queryops-eu3","depends_on_id":"queryops-hxq","type":"parent-child","created_at":"2025-12-17T23:00:56.583283826-05:00","created_by":"daemon"},{"issue_id":"queryops-eu3","depends_on_id":"queryops-ks4","type":"blocks","created_at":"2025-12-17T23:00:56.622855491-05:00","created_by":"daemon"}]}
{"id":"queryops-f1b","title":"Fix Dockerfile for Kamal (alpine runtime)","description":"Update Dockerfile to build ./cmd binary, run 'web' by default, and use alpine runtime (not scratch) to support kamal exec/hooks.","status":"closed","priority":0,"issue_type":"chore","created_at":"2025-12-12T21:10:07.882086018-05:00","updated_at":"2025-12-12T21:14:03.701568202-05:00","closed_at":"2025-12-12T21:14:03.701568202-05:00","dependencies":[{"issue_id":"queryops-f1b","depends_on_id":"queryops-1ox","type":"parent-child","created_at":"2025-12-12T21:10:21.168434245-05:00","created_by":"daemon"}]}
{"id":"queryops-hxq","title":"Triage and fix golangci-lint failures","description":"","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-17T23:00:40.505283518-05:00","updated_at":"2025-12-17T23:00:40.505283518-05:00"}
{"id":"queryops-jgq","title":"Update login page with passkey support","description":"Modify login.templ to add 'Sign in with Passkey' button. Include SimpleWebAuthn browser library from CDN. Add inline JS to handle passkey flow: call /passkey/login/begin, invoke startAuthentication(), call /passkey/login/finish, redirect on success.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T17:26:26.908684981-05:00","updated_at":"2025-12-12T17:37:49.331239037-05:00","closed_at":"2025-12-12T17:37:49.331239037-05:00","dependencies":[{"issue_id":"queryops-jgq","depends_on_id":"queryops-vde","type":"blocks","created_at":"2025-12-12T17:27:18.706737835-05:00","created_by":"daemon"},{"issue_id":"queryops-jgq","depends_on_id":"queryops-a05","type":"parent-child","created_at":"2025-12-12T17:27:23.678027009-05:00","created_by":"daemon"}]}
{"id":"queryops-ks4","title":"Category 4: Project Standards","description":"Address gochecknoglobals (especially Lucide icons), gochecknoinits, and forbidigo (fmt.Printf).","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-17T23:00:45.118313551-05:00","updated_at":"2025-12-17T23:00:45.118313551-05:00","dependencies":[{"issue_id":"queryops-ks4","depends_on_id":"queryops-hxq","type":"parent-child","created_at":"2025-12-17T23:00:56.573856955-05:00","created_by":"daemon"},{"issue_id":"queryops-ks4","depends_on_id":"queryops-en2","type":"blocks","created_at":"2025-12-17T23:00:56.612607086-05:00","created_by":"daemon"}]}
{"id":"queryops-meg","title":"Add passkey removal functionality","description":"DELETE /passkey/{id} endpoint to remove a passkey. Require at least one auth method remains (password or another passkey). Update settings page to call this endpoint.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T17:27:36.829186901-05:00","updated_at":"2025-12-12T19:29:55.310754379-05:00","closed_at":"2025-12-12T19:29:55.310754379-05:00","dependencies":[{"issue_id":"queryops-meg","depends_on_id":"queryops-pux","type":"parent-child","created_at":"2025-12-12T17:27:45.203765329-05:00","created_by":"daemon"},{"issue_id":"queryops-meg","depends_on_id":"queryops-05n","type":"blocks","created_at":"2025-12-12T17:27:52.454570845-05:00","created_by":"daemon"}]}
{"id":"queryops-nck","title":"Update User model for WebAuthn interface","description":"Modify User struct and repository to implement webauthn.User interface: WebAuthnID(), WebAuthnName(), WebAuthnDisplayName(), WebAuthnCredentials(). Add methods to load credentials for a user.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T17:26:09.907341802-05:00","updated_at":"2025-12-12T17:32:46.930669692-05:00","closed_at":"2025-12-12T17:32:46.930669692-05:00","dependencies":[{"issue_id":"queryops-nck","depends_on_id":"queryops-3j2","type":"blocks","created_at":"2025-12-12T17:27:07.837765127-05:00","created_by":"daemon"},{"issue_id":"queryops-nck","depends_on_id":"queryops-a05","type":"parent-child","created_at":"2025-12-12T17:27:23.630801989-05:00","created_by":"daemon"}]}
{"id":"queryops-pn9","title":"Create WebAuthn service","description":"New webauthn_service.go that initializes go-webauthn/webauthn library with RPID and origins. Implements BeginRegistration, FinishRegistration, BeginLogin, FinishLogin. Uses SCS session to store WebAuthn session data (challenges).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T17:26:18.39293392-05:00","updated_at":"2025-12-12T17:35:06.649189578-05:00","closed_at":"2025-12-12T17:35:06.649189578-05:00","dependencies":[{"issue_id":"queryops-pn9","depends_on_id":"queryops-d79","type":"blocks","created_at":"2025-12-12T17:27:11.468772527-05:00","created_by":"daemon"},{"issue_id":"queryops-pn9","depends_on_id":"queryops-nck","type":"blocks","created_at":"2025-12-12T17:27:11.487992757-05:00","created_by":"daemon"},{"issue_id":"queryops-pn9","depends_on_id":"queryops-a05","type":"parent-child","created_at":"2025-12-12T17:27:23.655899795-05:00","created_by":"daemon"}]}
{"id":"queryops-pux","title":"Passkey Authentication - Phase 2","description":"Account settings page for managing passkeys. Users can view registered passkeys, add new ones, and remove existing ones. Polish and UX improvements.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-12T17:26:01.293563359-05:00","updated_at":"2025-12-12T19:29:58.703325319-05:00","closed_at":"2025-12-12T19:29:58.703325319-05:00","dependencies":[{"issue_id":"queryops-pux","depends_on_id":"queryops-a05","type":"blocks","created_at":"2025-12-12T17:27:48.465642858-05:00","created_by":"daemon"}]}
{"id":"queryops-s1b","title":"bd sync fails when worktree already on main","description":"Running 'bd sync' in /home/ben/source/queryops on branch main fails with: 'Error committing to sync branch: failed to create worktree: exit status 128; fatal: 'main' is already used by worktree at '/home/ben/source/queryops''. This prevents using bd sync in a single-worktree clone. Workaround: commit .beads files directly via git.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-11T22:07:38.502606496-05:00","updated_at":"2025-12-12T17:29:28.183473159-05:00","closed_at":"2025-12-12T17:29:28.183473159-05:00"}
{"id":"queryops-vde","title":"Create passkey handlers and routes","description":"New passkey_handlers.go with 4 endpoints: POST /passkey/register/begin (auth required), POST /passkey/register/finish (auth required), POST /passkey/login/begin (public), POST /passkey/login/finish (public). Wire up routes in routes.go.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T17:26:22.47193991-05:00","updated_at":"2025-12-12T17:36:32.987776768-05:00","closed_at":"2025-12-12T17:36:32.987776768-05:00","dependencies":[{"issue_id":"queryops-vde","depends_on_id":"queryops-pn9","type":"blocks","created_at":"2025-12-12T17:27:14.903143286-05:00","created_by":"daemon"},{"issue_id":"queryops-vde","depends_on_id":"queryops-a05","type":"parent-child","created_at":"2025-12-12T17:27:23.667292724-05:00","created_by":"daemon"}]}
{"id":"queryops-we9","title":"Fix nilnil issues","description":"Address return of (nil, nil) in credential, user, and todo repositories","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-17T23:01:00.467482457-05:00","updated_at":"2025-12-17T23:19:56.267783666-05:00","closed_at":"2025-12-17T23:19:56.267783666-05:00","dependencies":[{"issue_id":"queryops-we9","depends_on_id":"queryops-8tj","type":"parent-child","created_at":"2025-12-17T23:01:03.333394742-05:00","created_by":"daemon"}]}
{"id":"queryops-wsf","title":"Switch images to Debian Trixie (no musl)","description":"Update Dockerfile runtime to debian:trixie-slim (and build stage to a glibc Go image). Also switch postgres accessory off alpine.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-12T21:50:44.195175631-05:00","updated_at":"2025-12-12T21:52:03.258393173-05:00","closed_at":"2025-12-12T21:52:03.258393173-05:00","dependencies":[{"issue_id":"queryops-wsf","depends_on_id":"queryops-1ox","type":"parent-child","created_at":"2025-12-12T21:50:47.047117259-05:00","created_by":"daemon"}]}
{"id":"queryops-wve","title":"Bump Postgres accessory to 18","description":"Use postgres:18-alpine in config/deploy.yml and keep README/runbook consistent.","status":"closed","priority":1,"issue_type":"chore","created_at":"2025-12-12T21:48:53.726471566-05:00","updated_at":"2025-12-12T21:49:12.289473223-05:00","closed_at":"2025-12-12T21:49:12.289473223-05:00","dependencies":[{"issue_id":"queryops-wve","depends_on_id":"queryops-1ox","type":"parent-child","created_at":"2025-12-12T21:48:58.264001332-05:00","created_by":"daemon"}]}
{"id":"queryops-x4v","title":"Fix gosec issues","description":"Address G301 (permissions), G107 (dynamic URL), and G112 (Slowloris) security concerns","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-17T23:01:00.456927701-05:00","updated_at":"2025-12-17T23:13:48.045950833-05:00","closed_at":"2025-12-17T23:13:48.045950833-05:00","dependencies":[{"issue_id":"queryops-x4v","depends_on_id":"queryops-8tj","type":"parent-child","created_at":"2025-12-17T23:01:03.323882181-05:00","created_by":"daemon"}]}
